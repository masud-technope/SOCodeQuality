int r = x % n;
if (r > 0 && x < 0)
{
    r -= n;
}